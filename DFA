#include <stdio.h> 
#include <string.h> 
 
int main() { 
    int n, inputSymbols, endCount; 
    char start; 
 
    printf("Enter the number of states (n): "); 
    scanf("%d", &n); 
 
    printf("Enter the number of input symbols: "); 
    scanf("%d", &inputSymbols); 
 
    char endStates[n]; 
    int i, j; 
    printf("Enter the start state (A to %c): ", 'A' + n - 1); 
    scanf(" %c", &start); 
 
    printf("Enter the number of end states: "); 
    scanf("%d", &endCount); 
 
    printf("Enter the end states separated by spaces: "); 
    for (i = 0; i < endCount; i++) { 
        scanf(" %c", &endStates[i]); 
    } 
 
    char delta[n][inputSymbols]; 
    printf("Enter the transitions one by one:\n"); 
    for (i = 0; i < n; i++) { 
        for (j = 0; j < inputSymbols; j++) { 
            printf("Transition for state %c with input %d: ", 'A' + i, j); 
            scanf(" %c", &delta[i][j]); 
        } 
    } 
 
    char input[1000]; 
    printf("Enter the input string (symbols from 0 to %d): ", inputSymbols - 1); 
    scanf("%s", input); 
 
    char state = start; 
    for (i = 0; i < strlen(input); i++) { 
        int symbol = input[i] - '0'; 
        if (symbol < 0 || symbol >= inputSymbols) { 
            printf("Invalid symbol '%c'\n", input[i]); 
            state = -1; 
            break; 
        } 
        char nextState = delta[state - 'A'][symbol]; 
        printf("%c -%c-> %c\n", state, input[i], nextState); 
        state = nextState; 
    } 
 
    int accepted = 0; 
    for (i = 0; i < endCount; i++) { 
        if (state == endStates[i]) { 
            accepted = 1; 
            break; 
        } 
    } 
    if (accepted) 
        printf("Accepted\n"); 
    else 
        printf("Rejected\n"); 
 
    return 0; 
}
